{% extends 'base.html' %}
{% load crispy_forms_tags %}
{% load static %}


{% block script %}
    <script type="text/javascript" src="{% static '/js/cms/cms.js' %}"></script>
{% endblock %}


{% block style %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/cms.css' %}">
{% endblock %}

{% block content %}
<div class="container">
    <div class="sticky-sidebar-page">
        <div class="sidebar">
            <h3>Manage Site Contents</h3>
            <div class="list-group">
                <button class="list-group-item list-group-item-action active" aria-current="true" onClick="showHomeContent()" id="homeButton">Home</button>
                <button class="list-group-item list-group-item-action" aria-current="true" onClick="showAboutContent()" id="aboutButton">About</button>
                <a href="#" class="list-group-item list-group-item-action">Contact Us</a>
                <a href="#" class="list-group-item list-group-item-action">Sample Page</a>
                <a href="#" class="list-group-item list-group-item-action disabled" tabindex="-1" aria-disabled="true">A disabled link item</a>

            </div>
        </div>
        <div class="sandbox">
            <div class="page-content" id="page-content">


                <!-- SCHOOL LOGO -->


                <div class="card" id="school-logo">
                    <div class="card-body">
                        <h5>School Logo</h5>
                        <small>On display: </small>
                        <img src="{{logo.image.url}}" class="card-img-top" id="img" alt="..." style="max-width: 10rem; max-height: 10rem;"> <br>
                        <label for="inputGroupFile02">Change:</label>
                    <form action="{% url 'changelogo' %}" method="POST"  enctype="multipart/form-data" id="logo-form">
                        {% csrf_token %}
                        <div class="input-group mb-3">
                            <input type="file" name="image" class="form-control" required id="inputGroupFile02">
                            <button type="submit" class="input-group-text" for="inputGroupFile02">Upload
                            </button>
                        </div>
                    </form>
                    </div>
                </div>


                <!-- HOME CAROUSEL -->

                <div class="card" id="carousel">
                    <div class="card-body">
                        <h5>Home Carousel</h5>

                        {% for pic in carouselpics %}
                            <small>On display: </small>
<<<<<<< HEAD
                            <img id="img-{{pic.id}}" src="{{pic.image.url}}" class="card-img-top" alt="..." style="max-width: 15rem; max-height: 15rem;"> <br> 
                            <span>Label:</span>
                            <span id="label-{{pic.id}}">{{pic.label}} </span><br>
                            <span>Content:</span>
                            <span id="content-{{pic.id}}">{{pic.content}}</span><br>
                            <span style="font-size: 20px;">
                                <span style="color: red;">  
                                   <i data-id="{{pic.id}}" data-process="delete"  class="fas fa-trash-alt"  onClick="popCarouselDetailModal(this.getAttribute('data-id'))" type="button" data-bs-toggle="modal" data-bs-target="#exampleModal"></i>
                                </span>
                                <span style="color:brown"> 
                                    <i data-id="{{pic.id}}" data-process="update" onClick="popCarouselDetailModal(this.getAttribute('data-id'))" type="button" class="far fa-edit" data-bs-toggle="modal" data-bs-target="#exampleModal" class="far fa-edit"></i>
=======
                            <img id="img-{{pic.id}}" src="{{pic.image.url}}" class="card-img-top" alt="..." style="max-width: 15rem; max-height: 15rem;"> <br>
                            Label: {{pic.label}} <br>
                            Content: {{pic.content}}<br>
                            <span style="font-size: 20px;">
                                <span style="color: red;">
                                   <i class="fas fa-trash-alt"></i>
                                </span>
                                <span style="color:brown">
                                    <i class="far fa-edit"></i>
>>>>>>> 386b45b3aed1208ca8b24f1c449586962ff7078b
                                </span>
                            </span>
                            <br>
                            <hr>
                        {% endfor %}

                    </div>
                </div>


                <!-- Mission -->

                <div class="card" id="mission">
                    <div class="card-body">
                        <h5>Mission</h5>
                        <small>On display: </small>
                        <p id="mission-content">
                            {{mission.mission}}
                        </p>
                        <span style="font-size: 20px;">
                            <span style="color:brown">
                                <i onClick="popMissionModal()" type="button" class="far fa-edit" data-bs-toggle="modal" data-bs-target="#exampleModal"></i>
                            </span>
                        </span>
                        <br>

                    </div>
                </div>


                <!-- Vision -->
                <div class="card" id="vision">
                    <div class="card-body">
                        <h5>Vision</h5>
                        <small>On display: </small>
                        <p id="vision-content">
                            {{vision.vision}}
                        </p>
                        <span style="font-size: 20px;">
                            <span style="color:brown">
                                <i onClick="popVisionModal()" type="button" class="far fa-edit" data-bs-toggle="modal" data-bs-target="#exampleModal"></i>
                            </span>
                        </span>
                        <br>

                    </div>
                </div>

            </div>
        </div>
    </div>
</div>


<!-- Modal -->
<div class="container" id="web-content-modal">
    <div class="modal fade" id="exampleModal" style="margin-top: 200px; max-height: 400px; position:fixed; left:50%; transform: translate(-50%,0);" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
      <div class="modal-dialog modal-dialog-scrollable modal-lg">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title" id="modal-title"></h5>
          </div>
          <div class="modal-body" id="modal-body">

          </div>
          <div class="modal-footer">
            <button type="button" id="closeButton" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
            <button type="submit" class="btn btn-primary" id="saveButton">Save</button>
          </div>
        </div>
      </div>
    </div>
</div>


<script type="text/javascript">

    //home contents
    var changeLogoUrlView = "{% url 'changelogo' %}"
    var schoolLogo = "{{logo.image.url|safe}}"
    var missionId = "{{mission.id}}"
    var visionId = "{{vision.id}}"
</script>
{% endblock %}
